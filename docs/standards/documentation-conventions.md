# SYNTON-DB 文档编写规范

本文档定义 SYNTON-DB 项目的文档编写约定，确保文档的一致性和可维护性。

## 文档类型

| 类型 | 存放路径 | 用途 |
|------|----------|------|
| 规范文档 | `docs/standards/` | 定义项目标准和约定 |
| 模板文档 | `docs/templates/` | 提供文档模板 |
| 进度文档 | `docs/progress/` | 记录进行中的工作 |
| 完成报告 | `docs/reports/completed/` | 记录已完成的工作 |
| 验收报告 | `docs/reports/` | 记录变更验收 |
| 长期记忆 | `memory/MEMORY.md` | 结构化的长期知识 |
| 每日笔记 | `memory/daily/{YYYY-MM-DD}.md` | 按时间顺序的日志 |

## 命名规范

### 进度文档
- 格式：`{YYYY-MM-DD}-{topic}.md`
- 示例：`2025-02-05-project-init.md`

### 完成报告
- 格式：`{YYYY-MM-DD}-{topic}-completed.md`
- 示例：`2025-02-05-storage-layer-completed.md`

### 验收报告
- 格式：`{YYYY-MM-DD}-{topic}-acceptance.md`
- 示例：`2025-02-05-storage-layer-acceptance.md`

### 每日笔记
- 格式：`{YYYY-MM-DD}.md`
- 示例：`2025-02-05.md`

## 文档结构

### 进度文档模板
```markdown
# {标题}

**状态**: 进行中
**创建时间**: {YYYY-MM-DD}
**负责人**: {可选}

## 背景

{任务背景和原因}

## 目标

{具体目标}

## 进展

### 已完成

- [x] {已完成项}

### 进行中

- [ ] {进行项}

### 待完成

- [ ] {待完成项}

## 遇到的问题

{记录遇到的问题和解决方案}

## 下一步计划

{下一步计划}
```

### 完成报告模板
```markdown
# {标题}

**状态**: 已完成
**完成时间**: {YYYY-MM-DD}
**关联进度**: {对应的进度文档}

## 概述

{工作概述}

## 完成内容

{详细列出完成的内容}

## 测试验证

{测试方法和结果}

## 文档更新

{更新了哪些文档}

## 交付物

{列出交付的文件和代码}
```

### 验收报告模板
```markdown
# {标题}

**验收时间**: {YYYY-MM-DD}
**验收人**: {可选}
**验收结果**: {通过/不通过}

## 验收范围

{本次验收的范围}

## 验收标准

{验收标准列表}

## 验收过程

{验收过程的详细记录}

## 发现问题

{记录发现的问题}

## 验收结论

{验收结论和建议}
```

## 编写原则

1. **中文为主，代码为辅**：交流与文档使用中文，代码使用英文
2. **持续更新**：每次修改都必须延续上一次的进展
3. **时间追溯**：所有进展必须带上实际修改的时间
4. **版本控制**：所有文档受 Git 跟踪
5. **去重**：对重复、冗余的文档要保持更新和调整
6. **状态同步**：
   - 未完成的修改 → `docs/progress/`
   - 已完成的修改 → `docs/reports/completed/`
   - 验收报告 → `docs/reports/`

## 记忆系统规范

记忆系统基于 Markdown 文件的透明双层架构。

### 第一层：每日笔记（流）
- 路径：`./memory/daily/{YYYY-MM-DD}.md`
- 类型：仅追加日志
- 目的：记录上下文的"流动"
- 格式：按时间顺序排列的 Markdown 条目

### 第二层：长期记忆（沉积）
- 路径：`./memory/MEMORY.md`
- 类型：经过整理、结构化的知识
- 目的：记录上下文的"沉积"
- 分类：
  - ## 用户偏好
  - ## 项目上下文
  - ## 关键决策
  - ## 经验教训

### 操作规则

#### 读取（上下文加载）
1. 读取 `MEMORY.md` 的全部内容
2. 读取当前（以及可选的之前）一天的每日笔记内容

#### 写入（记忆持久化）
- **即时操作（日常）**：将每一次重要的交互、工具输出或决策追加到当天的每日笔记中
- **整合操作（长期）**：当检测到有意义的信息时，更新 `MEMORY.md`

## 维护与调试

1. 所有记忆文件都是标准的 Markdown 文件
2. 如果代理因错误的上下文而行为异常，修复方法是手动编辑 `.md` 文件
3. 所有记忆文件受 Git 跟踪
